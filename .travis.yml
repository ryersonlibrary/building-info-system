language: node_js

branches:
  # Only run Travis on:
  #   A) Commits made directly to the `master` branch (i.e., merged PRs); and
  #   B) PRs that will eventually be merged into `master`.
  # This prevents excessive resource usage and CI slowness.
  only:
    - master

before_install:
  # Source the scripts to export their env vars. See https://superuser.com/a/176788/62792
  - source scripts/travis-env-vars.sh

install:
  - if has_testable_files; then npm install; fi
  # Noisy output, but useful for debugging npm package dependency version issues:
  #- npm ls

matrix:
  include:

  - node_js: 8
    env:
      - TEST_SUITE=lint
    script:
      - if has_testable_files; then npm run lint; else log_untestable_files; fi

